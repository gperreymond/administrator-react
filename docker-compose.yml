version: '2'
services:
  rabbitmq:
    container_name: rabbitmq.xxxxxx.com.local
    image: rabbitmq:3.6.2-management
    privileged: true
    volumes:
      - ./docker/volumes/local/rabbitmq:/var/lib/rabbitmq
    environment:
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=uaLEm6NmTpK3t2mRCSrS
  rethinkdb:
    container_name: rethinkdb.xxxxxx.com.local
    image: rethinkdb:2.3.3
    privileged: true
    volumes:
      - ./docker/volumes/local/rethinkdb:/data
  mysql:
    container_name: mysql.xxxxxx.com.local
    image: mysql/mysql-server:5.7.12
    privileged: true
    volumes:
      - ./docker/volumes/local/mysql:/var/lib/mysql
    environment:
      - MYSQL_ROOT_PASSWORD=p6s9rXdVnfxGcX9UZck8
      - MYSQL_USER=admin
      - MYSQL_PASSWORD=zh2y5Xtjt4TkJB8HgsWK
      - MYSQL_DATABASE=xxxxxx
  elasticsearch:
    container_name: elasticsearch.xxxxxx.com.local
    image: elasticsearch:2.3.3
    privileged: true
    volumes:
      - ./docker/volumes/local/elasticsearch:/usr/share/elasticsearch/data
    command: elasticsearch -Des.network.host=0.0.0.0
  logstash:
    container_name: logstash.xxxxxx.com.local
    image: logstash:2.3.2-1
    privileged: true
    command: logstash -f /etc/logstash/conf.d/logstash.conf
    volumes:
      - ./docker/logstash/config:/etc/logstash/conf.d
  kibana:
    container_name: kibana.xxxxxx.com.local
    build: docker/kibana/
    privileged: true
    volumes:
      - ./docker/kibana/config/:/opt/kibana/config/
